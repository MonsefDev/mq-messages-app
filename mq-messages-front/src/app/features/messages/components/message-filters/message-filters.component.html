<form [formGroup]="filterForm" class="filters-form">
  <div class="filters-row">
    <!-- Recherche -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Rechercher</mat-label>
      <input
        matInput
        formControlName="search"
        placeholder="ID, source, destination..."
      />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>

    <!-- Statut -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Statut</mat-label>
      <mat-select formControlName="status">
        <mat-option value="">Tous</mat-option>
        <mat-option *ngFor="let status of statusOptions" [value]="status">
          {{ status }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Type de flux -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Type de flux</mat-label>
      <mat-select formControlName="processedFlowType">
        <mat-option value="">Tous</mat-option>
        <mat-option *ngFor="let type of flowTypeOptions" [value]="type">
          {{ type }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="filters-row">
    <!-- Date de début -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Date de début</mat-label>
      <input
        matInput
        [matDatepicker]="startPicker"
        formControlName="dateFrom"
      />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="startPicker"
      ></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>

    <!-- Date de fin -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Date de fin</mat-label>
      <input matInput [matDatepicker]="endPicker" formControlName="dateTo" />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="endPicker"
      ></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>

    <!-- Actions -->
    <div class="filter-actions">
      <button
        type="button"
        mat-raised-button
        color="accent"
        (click)="clearFilters()"
        [disabled]="isLoading"
      >
        <mat-icon>clear</mat-icon>
        Effacer
      </button>
    </div>
  </div>
</form>
